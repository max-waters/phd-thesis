%% A template for doctoral thesis based on memoir class
%% 
%%
%% Author: Nitin Yadav
%%
%%
%%

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{rmit}[2013/05/01 v0.1 RMIT thesis template]
%% Only works with the memoir class!
\@ifclassloaded{memoir}{\let\endrmit\relax}{\let\endrmit\endinput
  \PackageError{rmit}{The rmit package only works with the memoir class}{\@ehd}}
\endrmit



\def\Tiny{\fontsize{6pt}{6pt} \selectfont}
%\setverbatimfont{\normalfont\rmfamily}% make verbatims use the body font
%\renewcommand*{\foottextfont}{\normalfont\normalsize} %footnote font

%% We generally use the 'fancyplain' format
%%  Header (left, center, right) for odd and even pages (note different brackets)
%% The \fancyplain command itself takes two arguments: one for pages that
%% LaTeX would normally format in 'plain' (1st page in Chapters etc.) and one for others.
% \lhead[\fancyplain{}{}]{\fancyplain{}{{\small \leftmark}}}
% \chead[\fancyplain{}{}]{\fancyplain{}{}}
% \rhead[\fancyplain{}{}]{\fancyplain{}{}}
% %% Footer (left, center, right) for odd and even pages (note different brackets)
% \lfoot[\fancyplain{}{}]{\fancyplain{\sffamily{\footnotesize{Revision\gitVtags: \gitAbbrevHash{} (\gitAuthorDate)}}}{\sffamily{\footnotesize{Revision\gitVtags: \gitAbbrevHash{} (\gitAuthorDate)}}}}
% \cfoot[\fancyplain{}{\thepage}]{\fancyplain{\thepage}{\thepage}}
% \rfoot[\fancyplain{}{}]{\fancyplain{{\sffamily {\footnotesize (\today)}}}{{\sffamily {\footnotesize (\today)}}}}
% %% You can underline/overline header and footer,
% %% We don't use this, so we set it to 0pt
% \renewcommand{\headrulewidth}{0pt}
% % \renewcommand{\footrulewidth}{0.5pt}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\setmarginnotes{17pt}{51pt}{\onelineskip}
\checkandfixthelayout
\usepackage{epigraph}
\setlength{\epigraphwidth}{.65\textwidth}
\setlength\epigraphrule{0pt}

%For use with the natbib package
%\renewcommand{\cite}[1]{\citep{#1}}
%\newcommand{\citeasnoun}[1]{\citet{#1}}
%\bibpunct{[}{]}{;}{n}{,}{;}
%\bibpunct{[}{]}{,}{a}{}{;}
\raggedbottom
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% To enable spacing to be changed if neccesary by the user
%\newcommand*{\setrmitspacing}[1]{%
%\let\RmitSpacing#1
%\RmitSpacing}
%\setrmitspacing{\DoubleSpacing}
%% for main body, bottom of text at 1in, footer below
%% top of header at 1in, first text line double spaced
%% below base of header
\newlength{\linespace}
\setlength{\linespace}{\baselineskip} % current equivalent of \onelineskip
\setlength{\headheight}{\onelineskip}
\setlength{\headsep}{2\linespace}
\addtolength{\headsep}{-\topskip}
\setlength{\uppermargin}{1in}
\addtolength{\uppermargin}{\headheight}
\addtolength{\uppermargin}{\headsep}
%% and for the bottom
\setlength{\lowermargin}{1in}
\setlength{\textheight}{\paperheight}
\addtolength{\textheight}{-\uppermargin}
\addtolength{\textheight}{-\lowermargin}

%% footnote settings
\setlength{\footskip}{2\onelineskip}
\setlength{\footnotesep}{0.5\onelineskip}
% A4 is 50 picas wide. Computer modern at 11pt needs 30 picas for 70 characters per line
%\setlrmarginsandblock{12pc}{8pc}{*}
\setlrmarginsandblock{10pc}{10pc}{*}

% %% the fiddle lengths (..ta.. for title/approval page, others for prelims)
\newlength{\toptafiddle} \setlength{\toptafiddle}{2\linespace}
\newlength{\bottafiddle} \setlength{\bottafiddle}{0pt}
\newlength{\topfiddle} \setlength{\topfiddle}{\toptafiddle}
\newlength{\botfiddle} \setlength{\botfiddle}{\onelineskip}
\setlength{\parindent}{2em}
\checkandfixthelayout[nearest]
\newcommand*{\addtotextheight}[1]{%
\twocolumn
\addtolength{\textheight}{#1}%
\onecolumn}
\renewcommand{\chaptermark}[1]{\markboth{#1}{}}
\renewcommand{\sectionmark}[1]{\markright{#1}}
\setsecindent{-8ex}


%%%% pagestyles
\setsecnumdepth{subsubsection}

\makepagestyle{rmit}
%\makeevenhead{rmit}{\small \MakeUppercase{ Chapter \thechapter: \ \leftmark}}{}{}
\makeevenhead{rmit}{\footnotesize \MakeUppercase{ Chapter \thechapter:  \ \leftmark}}{}{}
\makeoddhead{rmit}{}{}{\footnotesize  \MakeUppercase{ Section \thesection: \ \rightmark}}
\makeoddfoot{rmit}{}{\thepage}{\sffamily {\footnotesize (\today)}}
\makeevenfoot{rmit}{}{\thepage}{\sffamily {\footnotesize (\today)}}


%% for continuation pages of the ToC, LoF, LoT
\settocdepth{subsection}
\makepagestyle{toc}
\makeevenfoot{toc}{}{\thepage}{}
\makeoddfoot{toc}{}{\thepage}{}
\makeevenhead{toc}{Chapter}{}{Page}
\makeoddhead{toc}{Chapter}{}{Page}
\makepagestyle{lof}
\makeevenfoot{lof}{}{\thepage}{}
\makeoddfoot{lof}{}{\thepage}{}
\makeevenhead{lof}{Figure}{}{Page}
\makeoddhead{lof}{Figure}{}{Page}
\makepagestyle{lot}
\makeevenfoot{lot}{}{\thepage}{}
\makeoddfoot{lot}{}{\thepage}{}
\makeevenhead{lot}{Table}{}{Page}
\makeoddhead{lot}{Table}{}{Page}

%% title page
\newcommand{\thetitlepage}{{%
\thispagestyle{empty}
\begin{center}

\textsc{\LARGE \thesistitle}\\[1.5cm]

A thesis submitted in fulfilment of the requirements for the degree of Doctor of Philosophy
\vspace{1cm}
\\ \phdauthor~~\qualifications,
\\School of Computing Technologies
\\College of Science, Technology, Engineering and Maths
\\RMIT University,


\vspace{3cm}
\begin{figure}[ht!]
\centering
\includegraphics[width=35mm]{graphics/rmit-logo.png}
\end{figure}

\vspace{1.5cm}
\emph{Supervisors:} \\

\vfill

\thesisdate
\end{center}
\cleardoublepage }}
\makeatother % RETURN @ to being a non-letter


\nouppercaseheads
\makepagestyle{rmitheadings}
\makeevenhead{rmitheadings}{}{}{}
\makeoddhead{rmitheadings}{}{}{}
\makeevenfoot{rmitheadings}{}{\thepage}{}
\makeoddfoot{rmitheadings}{}{\thepage}{}
\makeatother % RETURN @ to being a non-letter

\makechapterstyle{veeloc}{%
   \setlength{\afterchapskip}{40pt}
  \renewcommand*{\chapterheadstart}{\vspace*{40pt}}
  \renewcommand*{\afterchapternum}{\par\nobreak\vskip 25pt}
   \renewcommand*{\chapnamefont}{\normalfont\LARGE\flushright}
   \renewcommand*{\chapnumfont}{\normalfont\HUGE}
   \renewcommand*{\chaptitlefont}{\normalfont\huge\bfseries\flushright}
   \renewcommand*{\printchaptername}{%
     \chapnamefont\MakeUppercase{Chapter}}
   \renewcommand*{\chapternamenum}{}
  \setlength{\beforechapskip}{18mm}%  \numberheight
  \setlength{\midchapskip}{\paperwidth}% \barlength
  \addtolength{\midchapskip}{-\textwidth}
  \addtolength{\midchapskip}{-\spinemargin}
   \renewcommand*{\printchapternum}{%
     \makebox[0pt][l]{%
       \hspace{.8em}%
       \resizebox{!}{\beforechapskip}{\chapnumfont \thechapter}%
       \hspace{.8em}%
       \rule{\midchapskip}{\beforechapskip}%
     }%
   }%
   \makeoddfoot{plain}{}{\thepage}{}}

\makechapterstyle{veelocapp}{%
   \setlength{\afterchapskip}{40pt}
  \renewcommand*{\chapterheadstart}{\vspace*{40pt}}
  \renewcommand*{\afterchapternum}{\par\nobreak\vskip 25pt}
   \renewcommand*{\chapnamefont}{\normalfont\LARGE\flushright}
   \renewcommand*{\chapnumfont}{\normalfont\HUGE}
   \renewcommand*{\chaptitlefont}{\normalfont\huge\bfseries\flushright}
   \renewcommand*{\printchaptername}{%
     \chapnamefont\MakeUppercase{Appendix}}
   \renewcommand*{\chapternamenum}{}
  \setlength{\beforechapskip}{18mm}%  \numberheight
  \setlength{\midchapskip}{\paperwidth}% \barlength
  \addtolength{\midchapskip}{-\textwidth}
  \addtolength{\midchapskip}{-\spinemargin}
   \renewcommand*{\printchapternum}{%
     \makebox[0pt][l]{%
       \hspace{.8em}%
       \resizebox{!}{\beforechapskip}{\chapnumfont \thechapter}%
       \hspace{.8em}%
       \rule{\midchapskip}{\beforechapskip}%
     }%
   }%
   \makeoddfoot{plain}{}{\thepage}{}}

\chapterstyle{veeloc} % Veelo style is good for chapters as one can identify the start/end of chapters in the printed version
%%%%%%%%%%%%%%% end of *.sty file
\endinput